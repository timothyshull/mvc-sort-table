!function(t){"use strict";function o(t){this.storage=t}o.prototype.create=function(t,o){t=t||[],o=o||function(){return void 0},this.storage.saveValue(t,o)},o.prototype.readFields=function(t){t=t||function(){return void 0},this.storage.findAllFields(t)},o.prototype.readValues=function(t){t=t||function(){return void 0},this.storage.findAllValues(t)},o.prototype.read=function(t){t=t||function(){return void 0},this.storage.findAll(t)},o.prototype.update=function(t,o){this.storage.updateAllValues(t,o)},o.prototype.sort=function(o,e,n){var i,r;n=n||function(){return void 0},this.readValues(function(t){i=t}),"desc"===e?(r=t.sortByIndex(i,o),this.update(r.reverse(),n)):(r=t.sortByIndex(i,o),this.update(r,n))},o.prototype.removeAll=function(t){this.storage.drop(t)},o.prototype.getFieldCount=function(t){var o=0;this.storage.findAllFields(function(e){o=e.length,t(o)})},o.prototype.getValuesCount=function(t){var o=0;this.storage.findAllValues(function(e){o=e.length,t(o)})},t.app=t.app||{},t.app.Model=o}(window);